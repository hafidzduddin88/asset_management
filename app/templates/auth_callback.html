<!DOCTYPE html>
<html>
<head>
    <title>Processing...</title>
</head>
<body>
    <script>
        // Extract token from URL fragment
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const accessToken = params.get('access_token');
        
        if (accessToken) {
            // Set cookie and redirect
            document.cookie = `sb_access_token=${accessToken}; path=/; max-age=3600; secure; samesite=lax`;
            window.location.href = '/dashboard';
        } else {
            window.location.href = '/login';
        }
    </script>
</body>
</html>