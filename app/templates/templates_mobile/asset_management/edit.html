{% extends "templates_mobile/layouts/modern_layout.html" %}

{% block title %}Edit Asset{% endblock %}

{% block content %}
<!-- Header -->
<div class="bg-blue-600 rounded-lg p-4 mb-4">
    <h1 class="text-xl font-bold text-white">Edit Asset</h1>
    <p class="text-blue-100 text-sm">{{ asset.asset_name }}</p>
</div>

<!-- Form -->
<div class="bg-white rounded-lg shadow p-4">
    <form method="POST" action="/asset_management/edit/{{ asset.asset_id }}">
        <div class="space-y-4">
            <!-- Status -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                <select name="status" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="Active" {{ 'selected' if asset.status == 'Active' }}>Active</option>
                    <option value="Under Repair" {{ 'selected' if asset.status == 'Under Repair' }}>Under Repair</option>
                    <option value="In Storage" {{ 'selected' if asset.status == 'In Storage' }}>In Storage</option>
                    <option value="To Be Disposed" {{ 'selected' if asset.status == 'To Be Disposed' }}>To Be Disposed</option>
                </select>
            </div>

            <!-- Company -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Company</label>
                <select name="company" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    {% for company in dropdown_options.companies %}
                    <option value="{{ company.company_name }}" {{ 'selected' if asset.ref_companies.company_name == company.company_name }}>{{ company.company_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Location -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                <select name="location" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    {% for location in dropdown_options.locations %}
                    <option value="{{ location.location_name }}" {{ 'selected' if asset.ref_locations.location_name == location.location_name }}>{{ location.location_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Room -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Room</label>
                <select name="room" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    {% for location in dropdown_options.locations %}
                    <option value="{{ location.room_name }}" {{ 'selected' if asset.ref_locations.room_name == location.room_name }}>{{ location.room_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Business Unit -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Business Unit</label>
                <select name="bisnis_unit" class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="">Select Business Unit</option>
                    {% for unit in dropdown_options.business_units %}
                    <option value="{{ unit.business_unit_name }}" {{ 'selected' if asset.ref_business_units.business_unit_name == unit.business_unit_name }}>{{ unit.business_unit_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Edit Reason -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Edit Reason</label>
                <textarea name="edit_reason" required rows="4" class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Reason for editing this asset..."></textarea>
            </div>
        </div>

        <!-- Buttons -->
        <div class="flex flex-col space-y-3 mt-6">
            <button type="submit" class="w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium">Submit for Approval</button>
            <a href="/asset_management/list" class="w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 text-center">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}